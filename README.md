# hackathon_CB
A Project for Code Bharat Hackathon Insight Mail

Product Requirements Document (PRD)


Insight Mail Version: 1.0 (Hackathon Release)

Status: Feature Complete.


Executive Summary
Insight Mail is a "Hybrid Intelligence" email platform designed for enterprises. Unlike standard email clients that treat messages as static text, Insight Mail treats them as data. It uses a custom hybrid engine (Local NLP + Generative AI) to analyze communication in real-time, detecting compliance risks, sentiment shifts, and hidden patterns in customer behavior, while automating professional responses.




2. Problem Statement
In large organizations, thousands of emails go unmonitored every day. This leads to:
1.	Missed Risks: Legal threats, HR violations, or security breaches are often detected too late.
2.	Context Loss: Support agents fail to notice a customer's increasing frustration across multiple threads.
3.	Inefficiency: Employees waste hours drafting responses to repetitive inquiries.

The Solution: A platform that auto-analyzes every incoming message for Risk, Tone, and Intent immediately upon receipt.







3. User Personas
â€¢	The Risk Officer: Needs to see "Red Flags" (High Risk emails) immediately on a dashboard.
â€¢	The Support Agent: Needs to see the sentiment of a customer and get a drafted reply instantly.
â€¢	The Manager: Needs a high-level view of team communication health.












4. Technical Architecture (The "Hybrid Brain")
Our unique selling point is the Hybrid Engine which balances speed, privacy, and creativity.

A. Layer 1: The Reflex System (Local / Offline)
â€¢	Technology: Python TextBlob + Custom Dictionary (keywords.py).
â€¢	Function: Calculates Risk Score (0-100), Sentiment, and Tone.
â€¢	Why: Zero latency, works offline, ensures privacy for sensitive detection.
â€¢	Data Sources: Proprietary Enterprise Dictionary (Legal, HR, Finance domains).

B. Layer 2: The Creative System (Cloud / Online)
â€¢	Technology: Google Gemini 2.0 Flash API.
â€¢	Function: Context-aware drafting.
â€¢	Why: Reads conversation history to generate human-like, empathetic responses that standard templates cannot match.
5. Functional Requirements
5.1 Authentication & Onboarding
â€¢	Requirement: Users must sign up with valid enterprise emails.
â€¢	Feature: Real-time DNS Validation (checks if the domain actually exists).
â€¢	Feature: Secure Login/Logout with session management.
5.2 The Dashboard (Command Center)
â€¢	Requirement: A single view for all incoming communications.
â€¢	Feature: Traffic Light System:
o	ðŸ”´ Red: Risk Score > 70 (High Risk)
o	ðŸŸ¡ Yellow: Risk Score 51-70 (Neutral/Warning)
o	ðŸŸ¢ Green: Risk Score â‰¤ 50 (Safe)
â€¢	Feature: Accordion View: Users can click a row to expand the full analysis card without leaving the dashboard.
â€¢	Feature: Real-Time Sync: "Sync Gmail" button fetches emails via IMAP and auto-triggers analysis.
5.3 The Intelligence Engine
â€¢	Requirement: Automated analysis upon email receipt.
â€¢	Feature: Context Linking: The system retrieves the last 3 emails between the sender/recipient to detect "Hidden Patterns" (e.g., escalating anger).
â€¢	Feature: Risk Scoring: Mathematical calculation based on weighted keywords (e.g., "Sue" = +30 risk).
5.4 Composition & Response
â€¢	Requirement: Efficient email writing.
â€¢	Feature: Smart Reply: "Reply with AI Draft" button pre-fills the response generated by Gemini.
â€¢	Feature: Auto-Complete: User search bar filters names as you type.
â€¢	Feature: Read Receipts: Unread emails appear Bold with a Blue Dot; marking as read happens on open.

















6. User Flows
Flow A: The "Watchdog" (Passive Analysis)
1.	Email arrives (via Internal User or Gmail Sync).
2.	Django Signal triggers immediately.
3.	Hybrid Engine calculates Risk Score.
4.	If Score > 70, Dashboard Badge turns RED.
5.	Risk Officer sees the alert instantly.

Flow B: The "Assistant" (Active Response)
1.	User opens a High Risk email.
2.	User reviews the AI Summary and Context Analysis.
3.	User clicks "Reply with AI Draft".
4.	System opens Compose window with pre-filled, de-escalation apology drafted by AI.
5.	User hits Send



8. Future Roadmap (Post-Hackathon)

1.	Role-Based Access Control (RBAC): Separate views for "Admin" vs "Employee".
2.	Slack/Teams Integration: Push "High Risk" alerts directly to a Slack channel.
3.	Custom Model Training: Replace the Keyword Dictionary with the Scikit-Learn Naive Bayes model (prototype already built in train_model.py).

